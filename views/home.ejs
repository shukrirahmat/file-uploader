<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%=title %></title>
  <link rel="stylesheet" href="/styles.css">
</head>

<body>
  <% if (locals.currentUser) { %>
  <div class="header">
    <a href="/">
      <h1>FILE UPLOADER</h1>
    </a>
    <a href="/log-out">LOG OUT</a>
  </div>
  <div class="main">
    <h2>WELCOME!, <%=currentUser.username %></h2>

    <form action="/folder/new" method="post">
      <p>CREATE NEW FOLDER</p>
      
      <input type="text" name="folderName" placeholder="Enter folder name...">
      <%- include("partials/folderNameError.ejs") %>
      
      <button>CREATE</button>
    </form>

    <hr>

    <h2>YOUR FOLDERS</h2>

    <% locals.folders.forEach((folder) => { %>
      <ul>
        <li><%=folder.name %></li>
        <a href="/folder?id=<%=folder.id%>">VIEW</a>
      </ul>
    <% }) %>

  </div>
  <div class="footer"></div>


  <% } else { %>
  <div class="header">
    <a href="/">
      <h1>FILE UPLOADER</h1>
    </a>
    <a href="/log-in">LOG IN</a>
    <a href="/sign-up">SIGN UP</a>
  </div>
  <div class="main">YOU ARE IN THE HOMEPAGE. Please sign up or log-in</div>
  <div class="footer"></div>
  <% } %>

</body>

</html>